{"version":3,"sources":["../lib/Promises.js"],"names":[],"mappings":"+RAEgB,S,CAAA,S,SAYA,G,CAAA,G,SAIA,K,CAAA,K,SAQA,O,CAAA,O,CAxBT,SAAS,SAAT,CAAmB,EAAnB,CAAuB,CAC3B,OAAO,IAAI,OAAJ,CAAY,SAAC,OAAD,CAAU,MAAV,CAAqB,CACrC,GAAG,SAAC,GAAD,CAAM,MAAN,CAAiB,CACjB,GAAI,GAAJ,CAAS,CACN,OAAO,GAAP,EACF,CAFD,KAEO,CACJ,QAAQ,MAAR,EACF,CACH,CAND,EAOF,CARM,CAAP,CASF,CAEM,SAAS,GAAT,CAAa,MAAb,CAAqB,EAArB,CAAyB,CAC7B,OAAO,QAAQ,GAAR,CAAY,OAAO,GAAP,CAAW,EAAX,CAAZ,CAAP,CACF,CAEM,SAAS,KAAT,CAAe,MAAf,CAAuB,CAC3B,OAAO,IAAI,OAAJ,CAAY,SAAC,OAAD,CAAU,MAAV,CAAqB,CACrC,WAAW,UAAM,CACd,UACF,CAFD,CAEG,MAFH,EAGF,CAJM,CAAP,CAKF,CAEM,SAAS,OAAT,CAAiB,OAAjB,CAA0B,MAA1B,CAAkC,OAAlC,CAA2C,CAC/C,GAAI,OAAJ,CAAa,CACV,OAAO,IAAI,OAAJ,CAAY,SAAC,OAAD,CAAU,MAAV,CAAqB,CACrC,OAAO,KAAP,CAAa,SAAb,QAA+B,OAA/B,mCAA+B,OAA/B,G;AACA,QAAQ,IAAR,CAAa,OAAb,CAAsB,MAAtB,EACA,WAAW,UAAM,CACd,OAAU,MAAV,MAAqB,OAArB,QACF,CAFD,CAEG,OAFH,EAGF,CANM,CAAP,CAOF,CARD,KAQO,CACJ,OAAO,OAAP,CACF,CACH","file":"Promises.js","sourcesContent":["\n\nexport function promisify(fn) {\n   return new Promise((resolve, reject) => {\n      fn((err, result) => {\n         if (err) {\n            reject(err);\n         } else {\n            resolve(result);\n         }\n      });\n   });\n}\n\nexport function map(values, fn) {\n   return Promise.all(values.map(fn));\n}\n\nexport function delay(millis) {\n   return new Promise((resolve, reject) => {\n      setTimeout(() => {\n         resolve();\n      }, millis);\n   });\n}\n\nexport function timeout(timeout, reason, promise) {\n   if (timeout) {\n      return new Promise((resolve, reject) => {\n         logger.error('timeout', typeof promise); // TODO\n         promise.then(resolve, reject);\n         setTimeout(() => {\n            reject(`${reason} (${timeout}ms)`);\n         }, timeout);\n      });\n   } else {\n      return promise;\n   }\n}\n"]}