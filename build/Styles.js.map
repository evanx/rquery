{"version":3,"sources":["../lib/Styles.js"],"names":[],"mappings":";;;;;;;;QAKgB,Y,GAAA,Y;QAMA,U,GAAA,U;QAmBA,W,GAAA,W;;AA7BhB,IAAM,SAAS,QAAQ,MAAR,CAAe,OAAO,QAAtB,EAAgC,OAAhC,CAAf;;AAEA,IAAM,cAAc,CAAC,YAAD,CAApB;;AAEO,SAAS,YAAT,CAAsB,MAAtB,EAA8B;AAClC,OAAM,SAAS,WAAW,MAAX,EAAmB,MAAnB,CAAf;AACA,UAAO,KAAP,CAAa,QAAb,EAAuB,MAAvB;AACA,UAAO,MAAP;AACF;;AAEM,SAAS,UAAT,CAAoB,MAApB,EAA4B,GAA5B,EAAiC;AACrC,OAAI,OAAO,IAAP,CAAY,MAAZ,EAAoB,MAApB,CAA2B;AAAA,aAAO,SAAS,GAAT,CAAP;AAAA,IAA3B,EAAiD,MAArD,EAA6D;AAC1D,aAAO,OAAO,OAAP,CAAe,OAAO,IAAP,CAAY,MAAZ,EAAoB,GAApB,CAAwB,eAAO;AAClD,gBAAO,EAAC,KAAK,UAAU,GAAV,CAAN,EAAsB,OAAO,YAAY,OAAO,GAAP,CAAZ,EAAyB,GAAzB,CAA7B,EAAP;AACF,OAFqB,EAEnB,GAFmB,CAEf,iBAAS;AACb,aAAI,MAAM,GAAN,IAAa,OAAO,QAAP,CAAgB,MAAM,KAAtB,CAAjB,EAA+C;AAC5C,mBAAU,MAAM,GAAhB,SAAuB,MAAM,KAA7B;AACF,UAFD,MAEO;AACJ,mBAAO,IAAP,CAAY,YAAZ,EAA0B,MAAM,GAAhC,UAA4C,MAAM,KAAlD;AACF;AACH,OARqB,CAAf,EAQH,IARG,CAQE,GARF,CAAP;AASF,IAVD,MAUO;AACJ,aAAO,OAAO,IAAP,CAAY,MAAZ,EAAoB,MAApB,CAA2B,UAAC,MAAD,EAAS,GAAT,EAAiB;AAChD,gBAAO,GAAP,IAAc,YAAY,OAAO,GAAP,CAAZ,EAAyB,GAAzB,CAAd;AACA,gBAAO,MAAP;AACF,OAHM,EAGJ,EAHI,CAAP;AAIF;AACH;;AAEM,SAAS,WAAT,CAAqB,KAArB,EAA4B,GAA5B,EAAiC;AACrC,OAAI,CAAC,OAAO,SAAP,CAAiB,KAAjB,CAAL,EAA8B;AAC3B,aAAO,KAAP,CAAa,mBAAb,EAAkC,GAAlC;AACA,aAAO,EAAP;AACF,IAHD,MAGO,IAAI,OAAO,SAAP,CAAiB,KAAjB,CAAJ,EAA6B;AACjC,UAAI,YAAY,QAAZ,CAAqB,GAArB,CAAJ,EAA+B;AAC5B,gBAAO,MAAM,QAAN,EAAP;AACF,OAFD,MAEO;AACJ,gBAAU,KAAV;AACF;AACH,IANM,MAMA,IAAI,OAAO,QAAP,CAAgB,KAAhB,CAAJ,EAA4B;AAChC,aAAO,KAAP;AACF,IAFM,MAEA,IAAI,OAAO,OAAP,CAAe,KAAf,CAAJ,EAA2B;AAC/B,aAAO,MAAM,GAAN,CAAU;AAAA,gBAAK,YAAY,CAAZ,EAAe,GAAf,CAAL;AAAA,OAAV,EAAoC,IAApC,CAAyC,GAAzC,CAAP;AACF,IAFM,MAEA,IAAI,OAAO,QAAP,CAAgB,KAAhB,CAAJ,EAA4B;AAChC,aAAO,WAAW,KAAX,CAAP;AACF,IAFM,MAEA;AACJ,YAAM,EAAC,SAAS,+BAA8B,KAA9B,yCAA8B,KAA9B,EAAV,EAA+C,QAA/C,EAAN;AACF;AACH;;AAED,SAAS,SAAT,CAAmB,GAAnB,EAAwB;AACrB,UAAO,OAAO,SAAP,CAAiB,GAAjB,CAAP;AACF;;AAED,SAAS,QAAT,CAAkB,GAAlB,EAAuB;AACpB,UAAO,YAAY,QAAZ,CAAqB,GAArB,KACJ,IAAI,KAAJ,CAAU,yCAAV,CADH;AAEF","file":"Styles.js","sourcesContent":["\nconst logger = Loggers.create(module.filename, 'debug');\n\nconst IntegerKeys = ['lineHeight'];\n\nexport function renderStyles(object) {\n   const styles = renderKeys(object, 'root');\n   logger.debug('styles', styles);\n   return styles;\n}\n\nexport function renderKeys(object, key) {\n   if (Object.keys(object).filter(key => isCssKey(key)).length) {\n      return lodash.compact(Object.keys(object).map(key => {\n         return {key: renderKey(key), value: renderValue(object[key], key)};\n      }).map(entry => {\n         if (entry.key && lodash.isString(entry.value)) {\n            return `${entry.key}:${entry.value}`\n         } else {\n            logger.warn('renderKeys', entry.key, typeof entry.value);\n         }\n      })).join(';');\n   } else {\n      return Object.keys(object).reduce((result, key) => {\n         result[key] = renderValue(object[key], key);\n         return result;\n      }, {});\n   }\n}\n\nexport function renderValue(value, key) {\n   if (!Values.isDefined(value)) {\n      logger.debug('renderValue empty', key);\n      return '';\n   } else if (Values.isInteger(value)) {\n      if (IntegerKeys.includes(key)) {\n         return value.toString();\n      } else {\n         return `${value}px`;\n      }\n   } else if (lodash.isString(value)) {\n      return value;\n   } else if (lodash.isArray(value)) {\n      return value.map(v => renderValue(v, key)).join(' ');\n   } else if (lodash.isObject(value)) {\n      return renderKeys(value);\n   } else {\n      throw {message: 'Unsupported type: ' + typeof value, key};\n   }\n}\n\nfunction renderKey(key) {\n   return lodash.kebabCase(key);\n}\n\nfunction isCssKey(key) {\n   return IntegerKeys.includes(key)\n   || key.match(/^(margin|padding|font|color|background)/);\n}\n"]}